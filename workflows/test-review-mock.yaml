workflow:
  name: test-review-mock
  description: "Test review workflow using mock executor (no real API calls)"

  steps:
    - id: clarify
      model: haiku
      wrapper: mock
      prompt_strategy: prompts/clarify_problem.md
      outputs:
        - context/clarified_problem.md
      timeout: 60
      max_turns: 5

    - id: write_tests
      model: sonnet
      wrapper: mock
      prompt_strategy: prompts/write_tests.md
      outputs:
        - project/solution.py
      depends_on:
        - clarify
      timeout: 60
      max_turns: 5

    - id: build_solution
      model: sonnet
      wrapper: mock
      prompt_strategy: prompts/build_tdd.md
      outputs:
        - project/solution.py
      depends_on:
        - write_tests
      timeout: 60
      max_turns: 5

    - id: review
      model: sonnet
      wrapper: mock
      prompt_strategy: prompts/review_code.md
      outputs:
        - context/review_notes.md
      depends_on:
        - build_solution
      timeout: 60
      max_turns: 5

    - id: refine
      model: sonnet
      wrapper: mock
      prompt_strategy: prompts/refine_solution.md
      outputs:
        - project/solution.py
      depends_on:
        - review
      timeout: 60
      max_turns: 5
